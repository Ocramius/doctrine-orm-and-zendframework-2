<!doctype html>
<!--[if lt IE 7]>      <html class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>Doctrine ORM and Zend Framework 2</title>
        <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css">
        <link rel="stylesheet" href="bower_components/reveal.js/css/theme/default.css" id="theme">

        <link rel="stylesheet" href="bower_components/reveal.js/lib/css/zenburn.css" id="highlight-theme">

        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
            document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>

        <style type="text/css">
            /* overrides */
            /*body {
                background: #040E27;
                background: -moz-radial-gradient(center, circle cover, #555a5f 0%, #040E27 100%);
                background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, #555a5f), color-stop(100%, #040E27));
                background: -webkit-radial-gradient(center, circle cover, #555a5f 0%, #040E27 100%);
                background: -o-radial-gradient(center, circle cover, #555a5f 0%, #040E27 100%);
                background: -ms-radial-gradient(center, circle cover, #555a5f 0%, #040E27 100%);
                background: radial-gradient(center, circle cover, #555a5f 0%, #040E27 100%);
                background-color: #040E27;
            }*/

            .zf-color {
                color: #68B604;
            }

            .doctrine-color {
                color: #FC6A31;
            }

            .doctrine-bg {
                background-color: #040E27;
            }

            .reveal section img {
                border: 0;
                background: none;
                box-shadow: 0 0 #000;
            }

            .reveal pre {
                width: 100%;
                font-size: 0.68em;
            }

            .reveal pre code {
                max-height: 600px;
            }
        </style>
    </head>
    <body>
        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">

                <section>
                    <h1>
                        <span class="doctrine-color">Doctrine 2</span>
                        &amp;
                        <span class="zf-color">ZF2</span>
                    </h1>
                    <h1>
                        <img
                            src="assets/img/doctrine.svg"
                            alt="Doctrine Project" border="0"
                            height="200px"
                            style="margin-bottom: -50px; "
                        />
                        +
                        <img
                            src="assets/img/zf-logo-large.png"
                            alt="Zend Framework 2"
                            border="0"
                            height="200px"
                            style="margin-bottom: -50px;"
                        />
                    </h1>
                </section>
                <section>
                    <h1>
                        Hello!
                    </h1>
                </section>
                <section>
                    <h2>
                        <img
                            src="assets/img/ocramius.gif"
                            alt="Marco Pivetta"
                            style="width: 70px; margin: 0; image-rendering: -webkit-optimize-contrast; image-rendering: -moz-crisp-edges;"
                        />
                        <a href="http://ocramius.github.com/" target="_blank" rel="me">Marco Pivetta</a>
                    </h2>
                </section>
                <section>
                    <img
                        src="assets/img/gh.svg"
                        alt="Ocramius on Github"
                        height="70px"
                        style="margin: 15px;"
                        />
                    <img
                        src="assets/img/twitter.svg"
                        alt="Ocramius on Twitter"
                        height="65px"
                        style="margin: 15px;"
                    />
                    <h2><a href="http://twitter.com/Ocramius" target="_blank">Ocramius</a></h2>
                </section>
                <section>
                    <img src="assets/img/roave-logo.png" alt="Roave"/>
                    <p class="fragment">
                        <a href="https://github.com/EvanDotPro">
                            <img src="http://www.gravatar.com/avatar/3fb997938a45ac4ea89a90164931368d?s=70&d=mm&r=g" alt="Evan Coury (EvanDotPro)"/>
                        </a>
                        <a href="https://github.com/TheFrozenFire">
                            <img src="http://www.gravatar.com/avatar/f9c4bcbe0990d74fbf2043602ec1a60d?s=70&d=mm&r=g" alt="Justin Martin (FrozenFire)"/>
                        </a>
                        <a href="https://github.com/DASPRiD">
                            <img src="http://www.gravatar.com/avatar/c9e618a09b7a872be9376b099b688eda?s=70&d=mm&r=g" alt="Ben Scholzen (DASPRiD)"/>
                        </a>
                        <a href="https://github.com/Ocramius">
                            <img src="http://www.gravatar.com/avatar/879d7c8ea365a31443e6b890f68a7d7d?s=70&d=mm&r=g" alt="Marco Pivetta (Ocramius)"/>
                        </a>
                        <a href="https://github.com/Akrabat">
                            <img src="http://www.gravatar.com/avatar/10e8bec5942c84bf30bcb5af7494f44a?s=70&d=mm&r=g" alt="Rob Allen (Akrabat), Nineteen Feet)"/>
                        </a>
                        <a href="https://github.com/nclundsten">
                            <img src="http://www.gravatar.com/avatar/816760c449322bb88a02cea027c857ab?s=70&d=mm&r=g" alt="Nigel Lundsten (nlundsten)"/>
                        </a>
                        <a href="https://github.com/Xerkus">
                            <img src="http://www.gravatar.com/avatar/4f7157a6ccf330bc161b126da934cefe?s=70&d=mm&r=g" alt="Aleksey Khudyakov (Xerkus)"/>
                        </a>
                        <a href="https://github.com/Spabby">
                            <img src="http://www.gravatar.com/avatar/e61ae7dfad370ba47a72f79418160f51?s=70&d=mm&r=g" alt="Gary Hockin (Spabby / GeeH)"/>
                        </a>
                        <img src="http://www.gravatar.com/avatar/8b228094f53356cb826741cc40a01cd6?s=70&d=mm&r=g" alt="Priscilla Hubbard"/>
                        <img src="http://www.gravatar.com/avatar/44e4328250ce6d98d5384c3c1fcd0274?s=70&d=mm&r=g" alt="Chloe"/>
                    </p>
                    <p class="fragment">
                        <marquee>We're awesome!</marquee>
                    </p>
                    <p class="fragment">(And we love &lt;marquee/&gt;)</p>
                </section>
                <section>
                    <h2>Awesome:</h2>
                    <img src="assets/img/awesome-moose.gif" alt="Definition of Awesome"/>
                </section>
                <section>
                    <h3>
                        <span class="doctrine-color">Doctrine</span> core team
                    </h3>
                    <h3>
                        <span class="zf-color">ZF2</span> contributor
                    </h3>
                </section>
                <section>
                    <h2>
                        <span class="fragment fade-out"><span class="zf-color">Modules</span> developer</span>
                    </h2>
                </section>
                <section>
                    <h2>professional procrastinator</h2>
                </section>
                <section>
                    <h2>Main Libraries</h2>
                    <p>
                        <a target="_blank" href="https://github.com/Ocramius/ProxyManager">ProxyManager</a>,
                        <a target="_blank" href="https://github.com/bjyoungblood/BjyAuthorize">BjyAuthorize</a>,
                        <a target="_blank" href="https://github.com/RWOverdijk/AssetManager">AssetManager</a>,
                        <a target="_blank" href="https://github.com/BinaryKitten/ZeffMu">ZeffMu</a>,
                        <a target="_blank" href="https://github.com/zf-fr/ZfrRest">ZfrRest</a>,
                        <a target="_blank" href="https://github.com/Ocramius/OcraServiceManager">OcraServiceManager</a>,
                        <a target="_blank" href="https://github.com/Ocramius/OcraCachedViewResolver">OcraCachedViewResolver</a>,
                        <a target="_blank" href="https://github.com/doctrine/DoctrineModule">DoctrineModule</a>,
                        <a target="_blank" href="https://github.com/doctrine/DoctrineORMModule">DoctrineORMModule</a>,
                        <a target="_blank" href="https://github.com/doctrine/DoctrineMongoODMModule">DoctrineMongoODMModule</a>,
                        <a target="_blank" href="https://github.com/Ocramius/VersionEyeModule">VersionEyeModule</a>
                    </p>
                </section>
                <section>
                    <h2><span class="zf-color">Zend Framework 2</span></h2>
                </section>
                <section>
                    Clean MVC(-ish) architecture
                </section>
                <section>
                    Clean dependendency injection
                </section>
                <section>
                    Event driven design and flexibility
                </section>
                <section>
                    Well applied <abbr title="Separation of Concerns">SOC</abbr> and
                    <abbr title="Single Responsibility Principle">SRP</abbr>
                </section>
                </section>
                <section>
                    <h2><span class="zf-color">Zend\Db</span></h2>
                </section>
                <section>
                    Finally got rid of
                    <a href="http://en.wikipedia.org/wiki/Active_record_pattern" target="_blank">ActiveRecord</a>
                </section>
                <section>
                    Allows <a href="http://framework.zend.com/manual/2.2/en/modules/zend.stdlib.hydrator.html" target="_blank">Hydration</a>
                    of <abbr title="Plain Old PHP Objects">POPO</abbr>
                </section>
                <section>
                    Finally getting away from
                    <a href="http://stackoverflow.com/questions/467113/fat-models-skinny-controllers-and-the-mvc-design-pattern" target="_blank">Fat Models</a>
                </section>
                <section>
                    Introducing the concept of an Entity
                </section>
                <section>
                    <h2>Designing with <span class="zf-color">Zend\Db</span></h2>
                </section>
                <section>
                    <h2>The <span class="doctrine-color">Entity</span></h2>
                </section>
                <section>
                    <pre><code contenteditable="">namespace Album\Model;

class Album
{
    protected $id;
    protected $artist;
    protected $title;

    public function exchangeArray($data)
    {
        $this-&gt;id     = $data['id'];
        $this-&gt;artist = $data['artist'];
        $this-&gt;title  = $data['title'];
    }

    // ...
}</code></pre>
                </section>
                <section>
                    <h2>The <span class="doctrine-color">Table</span></h2>
                </section>
                <section>
                    <pre><code contenteditable="">namespace Album\Model;
use Zend\Db\TableGateway\TableGateway;

class AlbumTable {
    public function __construct(TableGateway $gateway) {
        $this->gw = $gateway;
    }

    public function getAlbum($id) {
        return $this-&gt;gw-&gt;select(array('id' =&gt; (int) $id));
    }

    public function saveAlbum(Album $album) {
        $this-&gt;gw-&gt;insert($album->toArray()); // (or update!)
    }

    public function deleteAlbum($id) {
        $this-&gt;gw-&gt;delete(array('id' =&gt; (int) $id));
    }
}</code></pre>
                </section>
                <section>
                    <h2><span class="zf-color">Wiring</span> it together</h2>
                </section>
                <section>
                    <pre><code contenteditable="">public function getServiceConfig() {
    return array(
        'factories' =&gt; array(
            'Album\Model\AlbumTable' =&gt;  function($sm) {
                return new AlbumTable($sm-&gt;get('AlbumTableGateway'));
            },
            'AlbumTableGateway' =&gt; function ($sm) {
                $dbAdapter = $sm-&gt;get('Zend\Db\Adapter\Adapter');
                $resultSetPrototype = new ResultSet();
                $resultSetPrototype
                    -&gt;setArrayObjectPrototype(new Album());
                return new TableGateway(
                    'album', $dbAdapter,
                    null, $resultSetPrototype
                );
            },
        ),
    );
}</code></pre>
                </section>
                <section>
                    <h2>Using it in a <span class="zf-color">Controller</span></h2>
                </section>
                <section>
                    <pre><code contenteditable="">class AlbumController extends SomeBaseController {
    public function __construct(AlbumTable $table) {
        $this-&gt;table = $table;
    }

    public function registerNewAlbum() {
        $data = $this-&gt;getValidatedData(); // I'm lazy

        $album = new Album();
        $album-&gt;exchangeArray($data);

        $this-&gt;table-&gt;saveAlbum($album);

        return array('album' =&gt; $album);
    }
}</code></pre>
                </section>
                <section>
                    <h2>And that's cool...</h2>
                </section>
                <section>
                    <h2>... but then...</h2>
                </section>
                <section>
                    <img src="assets/img/example-eer-diagram.png" alt="Example (relatively simple) EER Diagram"/>
                </section>
                <section>
                    <h2>... business logic happens!</h2>
                </section>
                <section>
                    <h2>New <span class="zf-color">questions</span>:</h2>
                    <p class="fragment roll-in">Do we need to do it for all tables?</p>
                    <p class="fragment roll-in">How do we load an album's artist(s)?</p>
                    <p class="fragment roll-in">Does AlbumTable depend on ArtistTable?</p>
                    <p class="fragment roll-in">Does the controller depend on AlbumTable and ArtistTable?</p>
                    <p class="fragment roll-in">How do we avoid useless queries when saving data?</p>
                </section>
                <section>
                    <h2>And the list grows!</h2>
                </section>
                <section>
                    <h2>Time for <span class="doctrine-color">sharper</span> tools?</h2>
                    <p class="fragment">I don't know for sure</p>
                    <p class="fragment">Decide for yoursef</p>
                </section>
                <section>
                    <h2>
                        Introducing
                        <br/>
                        <span class="doctrine-color">Doctrine Project</span>
                    </h2>
                </section>
                <section>
                    <p>
                        An incubator for <span class="doctrine-color">persistence</span>-oriented libraries
                    </p>
                    <p>
                        <a href="https://github.com/FabioBatSilva">
                            <img src="https://2.gravatar.com/avatar/847009eb569c152f194f70e2deba99e1?d=https%3A%2F%2Fidenticons.github.com%2F719cf5f30cbd228c68ae742d8159fe4a.png&s=70" alt="Fabio B. Silva (FabioBatSilva)"/>
                        </a>
                        <a href="https://github.com/Ocramius">
                            <img src="https://2.gravatar.com/avatar/3cf7a8ab0bccee5b65d39b50a170a555?d=https%3A%2F%2Fidenticons.github.com%2F4f1c4fba7ee1878fdf1dbafb8164a229.png&s=70" alt="Marco Pivetta (Ocramius)"/>
                        </a>
                        <a href="https://github.com/Seldaek">
                            <img src="https://2.gravatar.com/avatar/48b79d17cd8a911327cbd88c122b1efb?d=https%3A%2F%2Fidenticons.github.com%2F616e84e6a0ef22fb49a1722721b05cf5.png&s=70" alt="Jordi Boggiano (Seldaek)"/>
                        </a>
                        <a href="https://github.com/asm89">
                            <img src="https://1.gravatar.com/avatar/d07a7a143b14fc8309f9abb78d569344?d=https%3A%2F%2Fidenticons.github.com%2Fb94c9a25dc8344a58447d6f32231d15f.png&s=70" alt="Alexander (asm89)"/>
                        </a>
                        <a href="https://github.com/avalanche123">
                            <img src="https://1.gravatar.com/avatar/f000c9b4dd0656f60de1dc9e75f7386c?d=https%3A%2F%2Fidenticons.github.com%2F0d866018f63b5c0f9b822175e2c5d72c.png&s=70" alt="Bulat Shakirzyanov (avalanche123)"/>
                        </a>
                        <a href="https://github.com/beberlei">
                            <img src="https://0.gravatar.com/avatar/75f5fb3ddda052e46f1daed314ae69ab?d=https%3A%2F%2Fidenticons.github.com%2F91ab07539b36f85ba8180d74ad2bb3ee.png&s=70" alt="Benjamin Eberlei (beberlei)"/>
                        </a>
                        <a href="https://github.com/davidino">
                            <img src="https://2.gravatar.com/avatar/14327ba6a017db91465d34f5910df5ab?d=https%3A%2F%2Fidenticons.github.com%2F88226d0c1ff4e5460320b6f0c4364e15.png&s=70" alt="David Funaro (davidino)"/>
                        </a>
                        <a href="https://github.com/dbu">
                            <img src="https://2.gravatar.com/avatar/c9f4f8ce2c2936bacaf49500b5a127dc?d=https%3A%2F%2Fidenticons.github.com%2F8b3432e34d73182c191e65586b395c06.png&s=70" alt="David Buchmann (dbu)"/>
                        </a>
                        <a href="https://github.com/fabpot">
                            <img src="https://2.gravatar.com/avatar/f1a2c5905e121d09feba5ad73898ffca?d=https%3A%2F%2Fidenticons.github.com%2Fc84b270aa5893770d53468e5ccd5d512.png&s=70" alt="Fabien Potencier (fabpot)"/>
                        </a>
                        <a href="https://github.com/golovanov">
                            <img src="https://1.gravatar.com/avatar/fbfe5a0027befc4b766f5fdc4cd530d8?d=https%3A%2F%2Fidenticons.github.com%2F9bd7eb886a09e90a3379136996871272.png&s=70" alt="Igor Golovanov (golovanov)"/>
                        </a>
                        <a href="https://github.com/guilhermeblanco">
                            <img src="https://2.gravatar.com/avatar/5f258a6128e0e026bf91f7ace0f85967?d=https%3A%2F%2Fidenticons.github.com%2F5d9248548f958594a229f782166a2384.png&s=70" alt="Guilherme Blanco (guilhermeblanco)"/>
                        </a>
                        <a href="https://github.com/jmikola">
                            <img src="https://2.gravatar.com/avatar/f23700b51dc0c196c1dc02f84aeeecdf?d=https%3A%2F%2Fidenticons.github.com%2F706249dd3fc0b178c58be9f85127d29e.png&s=70" alt="Jeremy Mikola (jmikola)"/>
                        </a>
                        <a href="https://github.com/jwage">
                            <img src="https://0.gravatar.com/avatar/f76041410752f9019752b6afd2bebc2a?d=https%3A%2F%2Fidenticons.github.com%2F95d7dfd5d3977e78ec60d7a9256e4be7.png&s=70" alt="Jonathan H. Wage (jwage)"/>
                        </a>
                        <a href="https://github.com/kore">
                            <img src="https://1.gravatar.com/avatar/29225b18371c37ec44c7b8831ea3dae3?d=https%3A%2F%2Fidenticons.github.com%2Fb8d41c3e14a12d9b6cfbfbcf8afa9d26.png&s=70" alt="Kore Nordmann (kore)"/>
                        </a>
                        <a href="https://github.com/kriswallsmith">
                            <img src="https://0.gravatar.com/avatar/097f39f4cd9a83a03d92c246a2797880?d=https%3A%2F%2Fidenticons.github.com%2F8ace2e1305aac8139dd035e9de3c81fb.png&s=70" alt="Kris Wallsmith (kriswallsmith)"/>
                        </a>
                        <a href="https://github.com/lsmith77">
                            <img src="https://1.gravatar.com/avatar/54787afbd0e7c30936101c2fa84bd89b?d=https%3A%2F%2Fidenticons.github.com%2F42c2d8d8bce5024ddda1f68cff3bd9cf.png&s=70" alt="Lukas Kahwe Smith (lsmith77)"/>
                        </a>
                        <a href="https://github.com/naderman">
                            <img src="https://0.gravatar.com/avatar/9f580202b05cc640aa9297ab7a1ae764?d=https%3A%2F%2Fidenticons.github.com%2Fde0db7a0a7eb8bc0075d465f313244c8.png&s=70" alt="Nils Adermann (naderman)"/>
                        </a>
                        <a href="https://github.com/nrk">
                            <img src="https://0.gravatar.com/avatar/1c29f9b1bf5f1b88ed8b0c9a9be39788?d=https%3A%2F%2Fidenticons.github.com%2F3cdb06e1e8fb85c93740e70f493db646.png&s=70" alt="Daniele Alessandri (nrk)"/>
                        </a>
                        <a href="https://github.com/odino">
                            <img src="https://0.gravatar.com/avatar/7e1b44a243d0cd4a01e5de1fa41fc0ed?d=https%3A%2F%2Fidenticons.github.com%2Fd1b9fb035de40e6365fcb55a2b8eb437.png&s=70" alt="Alessandro Nadalin (odino)"/>
                        </a>
                        <a href="https://github.com/richardfullmer">
                            <img src="https://1.gravatar.com/avatar/ae002f3da6a8fb6714653dc49c9284b8?d=https%3A%2F%2Fidenticons.github.com%2Fe3e3672be10bed9e9531781895369a60.png&s=70" alt="Richard Fullmer (richardfullmer)"/>
                        </a>
                        <a href="https://github.com/rndstr">
                            <img src="https://2.gravatar.com/avatar/20f4b48ecceee43353a1ec364cd0059c?d=https%3A%2F%2Fidenticons.github.com%2F491991572cf97170a77cc98cc908684b.png&s=70" alt="Roland Schilter (rndstr)"/>
                        </a>
                        <a href="https://github.com/romanb">
                            <img src="https://0.gravatar.com/avatar/a459a18ff578f511412e9b78b1c3a7fb?d=https%3A%2F%2Fidenticons.github.com%2F006c43135a6c5288e27b92e09757cbc2.png&s=70" alt="Roman S. Borschel (romanb)"/>
                        </a>
                        <a href="https://github.com/schmittjoh">
                            <img src="https://2.gravatar.com/avatar/96a13b96ece78afe3c2dc841edc4a8f5?d=https%3A%2F%2Fidenticons.github.com%2F76ac4dd6d29ba379bc7e819e4dcd5de2.png&s=70" alt="Johannes (schmittjoh)"/>
                        </a>
                        <a href="https://github.com/stof">
                            <img src="https://1.gravatar.com/avatar/7894bbdf1c05b18a1444ad8c76c9d583?d=https%3A%2F%2Fidenticons.github.com%2Fd339b80a37d1fe7e96192364ab2d75fe.png&s=70" alt="Christophe Coevoet (stof)"/>
                        </a>
                        <a href="https://github.com/bakura10">
                            <img src="https://0.gravatar.com/avatar/2c3202718f850e5822f31a72b904668e?d=https%3A%2F%2Fidenticons.github.com%2Fb0e559f9c86970d9f05bda45c329845f.png&s=70" alt="Michaël Gallego (bakura10)"/>
                        </a>
                        <a href="https://github.com/superdweebie">
                            <img src="https://1.gravatar.com/avatar/0e30326b099b71f27a3722e10fd66ce4?d=https%3A%2F%2Fidenticons.github.com%2F46076c37f8ae4abeb1f4cdbe0af8d882.png&s=70" alt="Tim Roediger (superdweebie)"/>
                        </a>
                        <a href="https://github.com/spiffyjr">
                            <img src="https://1.gravatar.com/avatar/a5408ecd6ed3688802ef096bbd002a80?d=https%3A%2F%2Fidenticons.github.com%2F5366f6ddfc256a9716b68978dc0fae59.png&s=70" alt="Kyle Spraggs (spiffyjr)"/>
                        </a>
                        <a href="https://github.com/deeky666">
                            <img src="https://2.gravatar.com/avatar/ab370d20686fd46b478e6bcb8de81161?d=https%3A%2F%2Fidenticons.github.com%2Fb6c7bc94df5859dcdaa08f86a865c905.png&s=70" alt="Steve Müller (deeky666)"/>
                        </a>
                    </p>
                    <!--
                    generated via:
                    var users = [];
                    $(".gravatar").each(function () {
                        users.push({
                            gravatar: $(this).attr("src"),
                            name: $(this).parent().parent().find("em").text(),
                            nickname: $(this).parent().parent().find("h4 a").text(),
                            url: $(this).parent().attr("href")
                        });
                    });
                    -->
                </section>
                <section>
                    <h2>What about <span class="doctrine-color">Doctrine ORM</span>?</h2>
                </section>
                <section>
                    <p>
                        It is inspired by Hibernate and the <abbr title="Java Persistece API">JPA</abbr> (JSR-317)
                    </p>
                </section>
                <section>
                    <p>
                        It is based on a
                        <abbr title="Database Abstraction Layer" class="doctrine-color">DBAL</abbr>
                        (DataBase Abstraction Layer)
                    </p> 
                </section>
                <section>
                    <p>
                        Allows saving and loading <abbr title="Plain Old PHP Object">POPO</abbr> with an SQL DB
                    </p>

                    <aside class="notes">
                        Also consider that Doctrine ORM abstract the underlying SQL dialect of the DB platform you are
                        using, so it's possible for you to switch DB vendor from a day to another
                    </aside>
                </section>
                <section>
                    <p>But most importantly...</p>
                </section>
                <section>
                    <h2>
                        An 
                        <br/>
                        <span class="doctrine-color">
                            Object
                            <br/>
                            Relational
                            <br/>
                            Mapper
                        </span>
                    </h2>
                </section>
                <section>
                    <h2>
                        An 
                        <br/>
                        <span class="doctrine-color">
                            Object
                            <br/>
                            <span style="font-size: 120%">Relational</span>
                            <br/>
                            Mapper
                        </span>
                    </h2>
                </section>
                <section>
                    <h2>
                        An 
                        <br/>
                        <span class="doctrine-color">
                            Object
                            <br/>
                            <span style="font-size: 160%">Relational</span>
                            <br/>
                            Mapper
                        </span>
                    </h2>
                </section>
                <section>
                    <h2>
                        An 
                        <br/>
                        <span class="doctrine-color">
                            Object
                            <br/>
                            <span style="font-size: 200%">Relational</span>
                            <br/>
                            Mapper
                        </span>
                    </h2>
                </section>
                <section>
                    <p>Remember this guy?</p>
                </section>
                <section>
                    <img src="assets/img/example-eer-diagram.png" alt="Example (relatively simple) EER Diagram"/>
                </section>

                <section>
                    <p>
                        An <span class="doctrine-color">ORM</span> gives you the impression that you are working
                        with a "virtual" database (graph) composed by objects
                    </p>
                </section>

                <section>
                    <p>
                        Simply put:
                    </p>
                    <h2 class="doctrine-color">Forget the database!</h2>
                    <p class="fragment">(yes, you still need to know how a RDBMS works!)</p>

                    <aside class="notes">
                        The job of an ORM is all about abstracting the underlying data structure into something that
                        gives the developer access to what looks like an in-memory representation of the database.
                    </aside>
                </section>

                <section>
                    <h2>
                        The <span class="zf-color">Modules</span>!
                    </h2>
                    <p class="fragment">
                        <span class="zf-color">DoctrineModule</span>
                        <br/>
                        basic common functionality
                    </p>
                    <p class="fragment">
                        <span class="zf-color">DoctrineORMModule</span>
                        <br/>
                        ORM/SQL Connection
                    </p>
                    <p class="fragment">
                        <span class="zf-color">DoctrineMongoODMModule</span>
                        <br/>
                        ODM/MongoDB Connection
                    </p>

                    <aside class="notes">
                        DoctrineModule is a set of functionality common to all ZF2-Doctrine integration layers
                    </aside>
                </section>

                <section data-state="soothe">
                    <p>
                        <!-- @todo consider using a better diagram? -->
                        <img src="http://yuml.me/diagram/dir:TB;/class/[doctrine/common{bg:orange}]<-.- [doctrine/doctrine-module{bg:green}],[doctrine/orm{bg:orange}]<-.- [doctrine/doctrine-orm-module{bg:green}],[doctrine/mongodb-odm{bg:orange}]<-.- [doctrine/doctrine-mongo-odm-module{bg:green}],[doctrine/doctrine-module{bg:green}]<-.- [doctrine/doctrine-orm-module{bg:green}],[doctrine/doctrine-module{bg:green}]<-.- [doctrine/doctrine-mongo-odm-module{bg:green}],[doctrine/common{bg:orange}]<-.- [doctrine/mongodb-odm{bg:orange}],[doctrine/common{bg:orange}]<-.- [doctrine/orm{bg:orange}]">
                    </p>
                </section>

                <section>
                    <h2>Installation!</h2>
                </section>

                <section>
                    <pre><code contenteditable>php composer.phar require doctrine/doctrine-orm-module:0.8.*</code></pre>
                </section>

                <section>
                    <img src="assets/img/waiting-meme.png" width="600px" alt="Wait a bit"/>
                </section>

                <section>
                    <pre><code contenteditable>php composer.phar require zendframework/zend-developer-tools:0.*</code></pre>
                </section>

                <!--
                @todo to be re-enabled when the slides are put online
                <section>
                    <pre><code contenteditable>cp vendor/zendframework/zend-developer-tools/config/zenddevelopertools.local.php.dist config/autoload/zdt.local.php</code></pre>
                </section>
                -->

                <section>
                    <h3>Enabling the modules</h3>
                    <pre><code>config/application.config.php</code></pre>
            <pre><code contenteditable>return array(
    'modules' => array(
        'ZendDeveloperTools',
        'DoctrineModule',
        'DoctrineORMModule',
        'Application',
    ),
    // ...
);</code></pre>
                </section>

                <section>
                    <p>You should see:</p>
                    <p>
                        <img src="assets/img/toolbar-preview.png" alt="Successful toolbar installation"/>
                    </p>
                </section>

                <section>
                    <h2>Write your first <span class="doctrine-color">entity</span></h2>
                    <pre><code>module/Application/src/Application/Entity/User.php</code></pre>
                    <pre><code contenteditable>namespace Application\Entity;
use Doctrine\ORM\Mapping as ORM;
/** @ORM\Entity */
class User {
    /**
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     * @ORM\Column(type="integer")
     */
    protected $id;

    /** @ORM\Column(type="string") */
    protected $fullName;

    // getters/setters
}</code></pre>
                </section>
                
                <section>
                    <h2><span class="doctrine-color">Annotations?</span></h2>
                    <h2 class="fragment">Blasphemer!</h2>
                    <p class="fragment">(stone throwing here)</p>
                    <!-- @todo insert monty-python quote here? -->
                </section>
                
                <section>
                    <p>Annotations are actually OK for non-reusable code</p>
                </section>

                <section>
                    <h2>Configure <span class="doctrine-color">mappings</span></h2>
                    <pre><code>module/Application/config/module.config.php</code></pre>
                                <pre><code contenteditable>return array(
'doctrine' => array(
  'driver' => array(
    'application_entities' => array(
      'class' =>'Doctrine\ORM\Mapping\Driver\AnnotationDriver',
      'cache' => 'array',
      'paths' => array(__DIR__ . '/../src/Application/Entity')
    ),

    'orm_default' => array(
      'drivers' => array(
        'Application\Entity' => 'application_entities'
      )
))), // ...</code></pre>
                </section>

                <section>
                    <p>You should see:</p>
                    <img src="assets/img/successful-mapping-of-user.png" alt="Successful mapping of the user entity"/>
                </section>

                <section>
                    <h2>Configure the <span class="doctrine-color">connection</span></h2>
                    <pre><code>config/autoload/doctrine.local.php</code></pre>
                    <pre><code contenteditable>return array(
  'doctrine' => array(
    'connection' => array(
      'orm_default' => array(
        'driverClass' =>'Doctrine\DBAL\Driver\PDOMySql\Driver',
        'params' => array(
          'host'     => 'localhost',
          'port'     => '3306',
          'user'     => 'username',
          'password' => 'password',
          'dbname'   => 'database',
          'encoding' => 'utf8',
)))));</code></pre>
                </section>

                <section>
                    <h2>Validate <span class="doctrine-color">mappings</span></h2>
                    <pre><code contenteditable>php public/index.php orm:validate-schema</code></pre>
                    <!-- @todo find the "so wow" meme with the dog -->
                    <p>
                        <img src="assets/img/validate-mappings.png" alt="Validate schema mappings"/>
                    </p>
                </section>

                <section>
                    <h2><span class="doctrine-color">Generate</span> the database</h2>
                </section>

                <section>
                    <pre><code contenteditable>php public/index.php orm:schema-tool:create</code></pre>
                    <p>
                        <img src="assets/img/database-generated-successfully.png" alt="generating the database"/>
                    </p>
                </section>
                
                <section>
                    <p>
                        <img src="assets/img/fast-reaction.gif" alt="Generating databases?! WOAH!"/>
                    </p>
                </section>


                <!-- add slide about mapping overview in ZDT -->

                <section>
                    <h2>Test it!</h2>
                    <pre><code>module/Application/src/Application/Controller/IndexController.php</code></pre>
                    <pre><code contenteditable>public function indexAction() {
    $objectManager = $this
        ->getServiceLocator()
        ->get('Doctrine\ORM\EntityManager');

    $user = new \Application\Entity\User();
    $user->setFullName('Marco Pivetta');

    $objectManager->persist($user);
    $objectManager->flush();

    die(var_dump($user->getId())); // yes, I'm lazy
}</code></pre>
                </section>
                

                <section>
                    <h1>ಠ_ಠ</h1>
                </section>
                
                <section>
                    <h2>Some Examples</h2>
                    <p>Not familiar with <span class="doctrine-color">doctrine</span>?</p>
                </section>
                <section>
                    <h3><span class="doctrine-color">Persisting</span> an object</h3>
                    <pre><code contenteditable>$user = new User();
$user->setFullName('Marco Pivetta');

$objectManager->persist($user); // $user is now "managed"
$objectManager->flush(); // commit changes to db

var_dump($user->getId()); // 1</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Persisting</span> multiple objects</h3>
                    <pre><code contenteditable>$user1 = new User();
$user1->setFullName('Marco Pivetta');
$objectManager->persist($user1);

$user2 = new User();
$user2->setFullName('Michaël Gallego');
$objectManager->persist($user2);

$user3 = new User();
$user3->setFullName('Kyle Spraggs');
$objectManager->persist($user3);

$objectManager->flush();</code></pre>
                </section>
                <section>
                    <h3>Retrieving an object</h3>
                    <pre><code contenteditable>$user1 = $objectManager->find('Application\Entity\User', 1);

var_dump($user1->getFullName()); // Marco Pivetta

$user2 = $objectManager
    ->getRepository('Application\Entity\User')
    ->findOneBy(array('fullName' => 'Michaël Gallego'));

var_dump($user2->getFullName()); // Michaël Gallego</code></pre>
                </section>
                <section>
                    <h3>Updating an object</h3>
                    <pre><code contenteditable>$user = $objectManager->find('Application\Entity\User', 1);

$user->setFullName('Guilherme Blanco');

$objectManager->flush();</code></pre>
                </section>
                <section>
                    <h3>Deleting an object</h3>
                    <pre><code contenteditable>$user = $objectManager->find('Application\Entity\User', 1);

$objectManager->remove($user);

$objectManager->flush();</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Associations</span> - User</h3>
                    <pre><code contenteditable>/** @ORM\Entity */
class User {
    // like before

    /** @ORM\ManyToOne(targetEntity="Address") */
    protected $address;

    /** @ORM\ManyToMany(targetEntity="Project") */
    protected $projects;

    public function __construct()
    {
        $this->projects = new ArrayCollection();
    }
    
    // getters/setters
}</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Associations</span> - Address</h3>
                    <pre><code contenteditable>/** @ORM\Entity */
class Address {
    /**
     * @ORM\Id @ORM\Column(type="integer")
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /** @ORM\Column(type="string") */
    protected $city;

    /** @ORM\Column(type="string") */
    protected $country;

    // getters/setters etc.
}</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Associations</span> - Projects</h3>
                    <pre><code contenteditable>/** @ORM\Entity */
class Project {
    /**
     * @ORM\Id @ORM\Column(type="integer")
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /** @ORM\Column(type="string") */
    protected $name;

    // getters/setters
}</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Associations</span> - Persisting associations</h3>
        <pre><code contenteditable>$user = new User();
$user->setFullName('Marco Pivetta');
$objectManager->persist($user);

$address = new Address();
$address->setCity('Frankfurt')
$address->setCountry('Germany');
$objectManager->persist($address);

$project = new Project();
$project->setName('Doctrine ORM');
$objectManager->persist($project);

$user->setAddress($address);
$user->getProjects()->add($project);
$objectManager->flush();</code></pre>
                </section>
                <section>
                    <h3><span class="doctrine-color">Associations</span> - Retrieving associations</h3>
                    <pre><code contenteditable>$user = $objectManager->find('Application\Entity\User', 1);

var_dump($user->getAddress()->getCity()); // Frankfurt
var_dump($user->getProjects()->first()->getName()) //Doctrine ORM</code></pre>
                </section>
                <!--
                <section>
                    <p>
                        More tutorials at
                        <a href="http://marco-pivetta.com/doctrine2-orm-tutorial" target="_blank" title="Doctrine 2 ORM Tutorial">
                            http://marco-pivetta.com/doctrine2-orm-tutorial
                        </a>
                    </p>
                    <p>
                        <img
                            src="assets/img/yo-dawg-presentation-in-presentation.jpg"
                            alt="Yo Dawg, I heard you like presentations, so I've put a presentation in your presentation"
                        />
                    </p>
                </section>
                -->
                <section>
                    <h2><span class="zf-color">DoctrineModule</span> goodies</h2>
                </section>

                <section>
                    <h2><span class="doctrine-color"><abbr title="Enhanced entity-relationship">EER</abbr> UML model</span></h2>
                    <p>
                        <img src="assets/img/sample-eer-diagram.png" alt="Example EER UML diagram generated by DoctrineORMModule"/>
                    </p>
                    <p class="fragment">
                        Generated via <span class="zf-color">ZendDeveloperTools</span>
                    </p>
                </section>

                <section>
                    <h2><span class="zf-color">Paginator</span> Adapter</h2>
                    <pre><code contenteditable>use Doctrine\Common\Collections\ArrayCollection;
use DoctrineModule\Paginator\Adapter\Collection as Adapter;
use Zend\Paginator\Paginator;

// Create a Doctrine Collection
$collection = new ArrayCollection(range(1, 101));

// Create the paginator itself
$paginator = new Paginator(new Adapter($collection));

$paginator
    ->setCurrentPageNumber(1)
    ->setItemCountPerPage(5);</code></pre>
                </section>

                <section>
                    <h2>
                        <span class="zf-color">Paginator</span> Adapter
                        (<span class="doctrine-color">ORM</span>)
                    </h2>
                    <pre><code contenteditable>use DoctrineORMModule\Paginator\Adapter\DoctrinePaginator;
use Doctrine\ORM\Tools\Pagination\Paginator as ORMPaginator;
use Zend\Paginator\Paginator;

// Create a Doctrine Collection
$query = $em->createQuery('SELECT f FROM Foo f JOIN f.bar b');

// Create the paginator itself
$paginator = new Paginator(
    new DoctrinePaginator(new ORMPaginator($query))
);

$paginator
    ->setCurrentPageNumber(1)
    ->setItemCountPerPage(5);</code></pre>
                </section>

                <section>
                    <h2><span class="doctrine-color">Object-Exists</span> <span class="zf-color">Validator</span></h2>
                    <pre><code contenteditable>$repository = $objectManager
    ->getRepository('Application\Entity\User');

$validator = new \DoctrineModule\Validator\ObjectExists(array(
    'object_repository' => $repository,
    'fields' => array('email')
));

var_dump($validator->isValid('test@example.com'));
var_dump($validator->isValid(array(
    'email' => 'test@example.com'
)));</code></pre>
                </section>

                <section>
                    <h2><span class="zf-color">Cache</span> adapters</h2>
                    <pre><code contenteditable>$zendCache = new \Zend\Cache\Storage\Adapter\Memory();

$cache = new \DoctrineModule\Cache\ZendStorageCache($zendCache);</code></pre>
                <pre><code contenteditable>$doctrineCache = new \Doctrine\Common\Cache\ArrayCache();
$options = new \Zend\Cache\Storage\Adapter\AdapterOptions();

$cache = new \DoctrineModule\Cache\DoctrineCacheStorage(
    $options,
    $doctrineCache
);</code></pre>
                </section>

                <section>
                    <h2><span class="zf-color">Hydrator</span></h2>
                    <pre><code contenteditable>use DoctrineModule\Stdlib\Hydrator\DoctrineObject;

$hydrator = new DoctrineObject($objectManager);

$city = new City();
$data = array('name' => 'Frankfurt');

$city = $hydrator->hydrate($data, $city);

echo $city->getName(); // prints "Frankfurt"

$dataArray = $hydrator->extract($city);

echo $dataArray['name']; // prints "Frankfurt"</code></pre>
                </section>

                <section>
                    <h2><span class="zf-color">Hydrator</span> (2)</h2>
                    <pre><code contenteditable>use DoctrineModule\Stdlib\Hydrator\DoctrineObject;

$hydrator = new DoctrineObject($objectManager);

$city = new City();
$data = array('country' => 123);

$city = $hydrator->hydrate($data, $city);

var_dump($city->getCountry());
// prints class Country#1 (1) {
//   protected $name => string(5) "Germany"
// }</code></pre>
                </section>

                <section>
                    <h2><span class="zf-color">Form Element</span></h2>
                    <pre><code contenteditable>$form->add(array(
    'type' => 'DoctrineModule\Form\Element\ObjectSelect',
    'name' => 'user',
    'options' => array(
        'object_manager' => $objectManager,
        'target_class'   => 'Module\Entity\User',
        'property'       => 'fullName',
        'is_method'      => true,
        'find_method'    => array(
            'name'   => 'findBy',
            'params' => array(
                'criteria' => array('active' => 1),
                'orderBy'  => array('lastName' => 'ASC'),
            ),
        ),
    ),
));</code></pre>
                </section>

                <section>
                    <p>Everything works with <span class="doctrine-color">MongoDB ODM</span> too!</p>
                    <p class="fragment"><span class="doctrine-color">CouchDB ODM</span>/<span class="doctrine-color">PHPCR ODM</span>/<span class="doctrine-color">OrientDB ODM</span></p>
                </section>
                
                <section>
                    <h2><span class="zf-color">Moar</span> stuff coming!</h2>
                    <p class="fragment">
                        ... because the community never sleeps ...
                    </p>
                </section>

                <section>
                    <h2><span class="zf-color">Good Practices</span></h2>
                </section>
                <section>
                    <h2>Keep <span class="doctrine-color">Entities</span> simple</h2>
                    <p class="fragment">Think of entities as value-objects + ID</p>
                    <p class="fragment">Don't add logic to entities (it's data!)</p>
                    <p class="fragment">Keep entities aware only of themselves + associations</p>
                </section>
                <section>
                    <h2><span class="doctrine-color">doctrine/common</span> API</h2>
                    <p class="fragment">
                        Stick with the <span class="doctrine-color">doctrine/common</span> interfaces
                    </p>
                    <p class="fragment">
                        Unlock <span class="doctrine-color">ORM</span>/
                        <span class="doctrine-color">MongoDB ODM</span>/<span class="doctrine-color">CouchDB ODM</span>/
                        <span class="doctrine-color">PHPCR ODM</span>/<span class="doctrine-color">OrientDB ODM</span>
                        portability!
                    </p>
                </section>
                <section>
                    <h2><span class="doctrine-color">doctrine/common</span> API</h2>
                    <div class="fragment">
                        Instead of hinting
                        <pre><code contenteditable>Doctrine\ORM\EntityManager</code></pre>
                    </div>
                    <div class="fragment">
                        use
                        <pre><code contenteditable>Doctrine\Common\Persistence\ObjectManager</code></pre>
                    </div>
                </section>
                <section>
                    <h2><span class="doctrine-color">doctrine/common</span> API</h2>
                    <div class="fragment">
                        Instead of hinting
                        <pre><code contenteditable>Doctrine\ORM\EntityRepository</code></pre>
                    </div>
                    <div class="fragment">
                        use
                        <pre><code contenteditable>Doctrine\Common\Persistence\ObjectRepository</code></pre>
                    </div>
                </section>

                <section>
                    <h2>Use <span class="doctrine-color">Collections</span> everywhere</h2>
                    <p class="fragment">
                        Doctrine comes with a powerful <span class="doctrine-color">collections</span>
                        <a href="https://github.com/doctrine/collections" target="_blank">API</a>
                    </p>
                    <p class="fragment">
                        OOP API for (<span class="php-color">PHP</span>-)array-like data structures
                    </p>
                </section>

                <section>
                    <h2>Use the <span class="doctrine-color">Criteria API</span></h2>
                    <p class="fragment">
                        Collections provide a <span class="doctrine-color">Criteria</span>
                        <a href="https://github.com/doctrine/collections/blob/v1.0/lib/Doctrine/Common/Collections/Criteria.php" target="_blank">API</a>
                    </p>
                    <p class="fragment">
                        Allows you to filter virtually any kind of data structure
                    </p>
                </section>

                <section>
                    <h2><span class="doctrine-color">Criteria API</span></h2>
                    <pre><code contenteditable>use Doctrine\Common\Collections\Criteria;
use Doctrine\Common\Collections\ArrayCollection;

$collection = new ArrayCollection(array($user1, $user2, $user3));
$criteria   = new Criteria();
$criteria->andWhere(
    $criteria->expr()->gt(
        'lastLogin',
        new \DateTime('-1 day')
    )
);

$recentVisitors = $collection->matching($criteria);</code></pre>
                </section>
                <section>
                    <h2><span class="doctrine-color">Criteria API</span></h2>
                    <p>Works also with repositories!</p>
                    <pre class="fragment"><code contenteditable>$recentVisitors = $objectManager
    ->getRepository('Application\Entity\Users')
    ->matching($criteria);</code></pre>
                </section>

                <section>
                    <h2><span class="doctrine-color">Criteria API</span> advantages</h2>
                    <p class="fragment">
                        Works in <span class="doctrine-color">ORM Repositories</span>,
                        <span class="doctrine-color">Collections</span>, etc...
                    </p>
                    <p class="fragment">
                        Abstracts the problem of "searching"
                    </p>
                    <p class="fragment">
                        Same criteria for different storages (ORM, ODM, Memory, ElasticSearch, cache...)
                    </p>
                    <p class="fragment">
                        Allows you to define your own <code>RecentUsersCriteria</code> or
                        <code>InactiveUsersCriteria</code> objects...
                    </p>
                </section>

                <section>
                    <h2>Inject the <span class="doctrine-color">Object Manager</span></h2>
                    <p>
                        If you fetch the object manager from within your services, replacing it will become very
                        difficult:
                        <br/>
                        Inject it instead!
                    </p>
                </section>

                <section>
                    <h2>Inject the <span class="doctrine-color">Object Manager</span></h2>                
                    <pre><code contenteditable>class MyService
{
    public function __construct(ObjectManager $objectManager)
    {
        // [...]
    }
}</code></pre>
                    <pre class="fragment"><code contenteditable>'factories' => array(
    'my_service' => function ($sl) {
        $objectManager = $sl->get('Doctrine\ORM\EntityManager');

        return new MyService($objectManager);
    }
),</code></pre>
                </section>

                <section>
                    <h2>Keep <span class="doctrine-color">Object Manager</span> out of <span class="zf-color">Controllers</span></h2>
                    <p>
                        <img
                            src="assets/img/if-you-inject-objectmanager-in-your-controllers.jpg"
                            alt="If you inject ObjectManager in your controllers, you're gonna have a bad architecture"
                        />
                    </p>
                </section>

                <section>
                    <h2>Don't use <span class="doctrine-color">persistence</span> to solve <span class="zf-color">application</span> problems</h2>
                    <p class="fragment">Filtering data when saved to DB</p>
                    <p class="fragment">Validating data when saved to DB</p>
                    <p class="fragment">Saving files when records are saved to DB</p>
                    <p class="fragment">Using DB-level errors to check input validity</p>
                </section>

                <section>
                    <h2>Keep your <span class="doctrine-color">object graph</span> consistent</h2>
                    <p class="fragment">
                        An <span class="doctrine-color">ObjectManager</span> works under the assumption that managed
                        objects are valid!
                    </p>
                    <p class="fragment">
                        Assign values to your entities only when data is valid!
                    </p>
                </section>

                <section>
                    <h2>Questions?</h2>
                    <p>Send me a tweet <a href="https://twitter.com/ocramius" target="_blank">@Ocramius</a>!</p>
                </section>

                <section>
                    <h2>Fork it!</h2>
                    <p>
                        You can find these slides on GitHub at
                        <a href="https://github.com/Ocramius/doctrine-orm-and-zendframework-2" target="_blank">
                            https://github.com/Ocramius/doctrine-orm-and-zendframework-2
                        </a>
                    </p>
                </section>

                <section>
                    <h2>Thanks for listening!</h2>
                    <a href="https://joind.in/9275" target="_blank">https://joind.in/9275</a>
                    <br/>
                    <img src="http://chart.apis.google.com/chart?chs=400x400&cht=qr&chl=https%3A%2F%2Fjoind.in%2F%2F9066" alt="Joind.in talk page QR code"/>
                </section>

            </div>

        </div>

        <script src="bower_components/jquery/jquery.js"></script>
        <script src="bower_components/handlebars/handlebars.js"></script>
        <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
        <script src="bower_components/reveal.js/js/reveal.min.js"></script>
        <script src="js/main.js"></script>

        <!--
        <script id="slide-template-markdown" type="x-handlebars-template">
            <section data-markdown="slides/{{file}}"></section>
        </script> 

        <script id="slide-template" type="x-handlebars-template">
            <section data-html="slides/{{file}}"></section>
        </script> 

        <script id="vertical-template" type="x-handlebars-template">
            <section class="{{ident}}"></section>
        </script>
        -->

        <script>
            // First, get sorted slide list
            //$.getJSON('slides/list.json', function(data) {
            // Append ordered slides
            //appendSlides(data);

            // Configure Reveal
            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme || 'sky', // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'bower_components/reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'bower_components/reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'bower_components/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'bower_components/reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
                    // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
                    //{ src: 'bower_components/reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }

                    { src: 'js/loadtemplates.js', condition: function() { return !!document.querySelector( '[data-html]' ); } }
                ]
            });
            //});
        </script>

        <script type="text/javascript">

            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-33922165-1']);
            _gaq.push(['_setDomainName', 'marco-pivetta.com']);
            _gaq.push(['_trackPageview']);

            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();

        </script>

    </body>
</html>
